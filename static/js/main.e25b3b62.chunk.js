(this["webpackJsonprecoil-leaflet"]=this["webpackJsonprecoil-leaflet"]||[]).push([[0],{1120:function(e,t,n){},1133:function(e,t,n){},1134:function(e,t,n){},1135:function(e,t,n){},1137:function(e,t,n){},1138:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),r=n(10),i=n.n(r),c=n(2),l=n(1139),u=n(1141),s=Object(c.atom)({key:"locationCountState",default:1e3}),d=Object(c.atom)({key:"selectedLocationState",default:null}),g=Object(c.atom)({key:"mapCenterState",default:[19,41]}),f=Object(c.atom)({key:"maZoomState",default:2}),p=n(1140);var m=function(e){var t=e.coordinates,n=e.id,a=e.city,r=Object(c.useSetRecoilState)(d);return o.a.createElement(p.a,{key:n,center:{lat:t[0],lng:t[1]},radius:6,properties:{coordinates:t,id:n,city:a},color:"green",onMouseOver:function(e){e.target.setStyle({color:"blue"});var t=e.target.options.properties;r(t)},onMouseOut:function(e){e.target.setStyle({color:"green"}),r(null)}})},b=n(13),v=n.n(b),h=n(33),S=n(18),y=n.n(S),O=function(e){return new Promise((function(t){return setTimeout((function(){for(var n=[],a=0;a<e;a++){var o={id:a,coordinates:[y.a.address.latitude(),y.a.address.longitude()],city:y.a.address.city()};n.push(o)}t(n)}),2e3)}))},R=Object(c.selector)({key:"locationsQuery",get:function(){var e=Object(h.a)(v.a.mark((function e(t){var n,a;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.get,e.prev=1,e.next=4,O(n(s));case 4:return a=e.sent,e.abrupt("return",a);case 8:throw e.prev=8,e.t0=e.catch(1),e.t0;case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}()});Object(c.selector)({key:"locationsState",get:function(e){return(0,e.get)(R)}});var E=function(){return Object(c.useRecoilValue)(R).map((function(e){return o.a.createElement(m,Object.assign({key:e.id},e))}))},j=n(34),k=n.n(j);n(1120);var w=function(){return o.a.createElement("div",{className:"map-loader"},o.a.createElement(k.a,{size:30,color:"#2f89cd"}))};var x=function(){var e=Object(c.useRecoilValue)(f),t=Object(c.useRecoilValue)(g);return o.a.createElement(l.a,{center:t,zoom:e,style:{height:"100vh",width:"100%"}},o.a.createElement(u.a,{attribution:'&copy <a href="http://osm.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),o.a.createElement(a.Suspense,{fallback:o.a.createElement(w,null)},o.a.createElement(E,null)))},C=n(23),V=n(36),L=n.n(V),B=(n(1133),{container:{position:"relative"},input:{width:240,height:25,padding:"10px 20px",fontWeight:300,fontSize:16,border:"2px solid #2f89cd",borderTopLeftRadius:20,borderTopRightRadius:20,borderBottomLeftRadius:20,borderBottomRightRadius:20},inputFocused:{outline:"none"},inputOpen:{borderBottomLeftRadius:0,borderBottomRightRadius:0},suggestionsContainer:{display:"none"},suggestionsContainerOpen:{display:"block",maxHeight:145,overflow:"auto",position:"absolute",top:45,width:280,border:"1px solid #aaa",backgroundColor:"#fff",fontWeight:300,fontSize:16,borderWidth:2,borderColor:"#2f89cd",borderTop:"none",borderBottomLeftRadius:20,borderBottomRightRadius:20,zIndex:2},suggestionsList:{margin:0,padding:0,listStyleType:"none"},suggestion:{cursor:"pointer",padding:"10px 20px"},suggestionHighlighted:{backgroundColor:"#ddd"}});var z=function(){var e=Object(c.useRecoilValueLoadable)(R),t=e.state,n=e.contents,r=Object(a.useState)(""),i=Object(C.a)(r,2),l=i[0],u=i[1],s=Object(a.useState)([]),p=Object(C.a)(s,2),m=p[0],b=p[1],v=Object(c.useSetRecoilState)(f),h=Object(c.useSetRecoilState)(g),S=Object(c.useSetRecoilState)(d),y={placeholder:"Search for fake city",value:l,onChange:function(e,t){var n=t.newValue;u(n),""===n&&(v(2),S(null))}},O=function(e){var t=e.trim().toLowerCase(),a=t.length;return 0===a?[]:n.filter((function(e){return e.city.toLowerCase().slice(0,a)===t}))};return"hasValue"===t?o.a.createElement("div",{className:"search-location"},o.a.createElement(L.a,{suggestions:m,theme:B,renderSuggestion:function(e){return o.a.createElement("div",null,e.city)},onSuggestionsFetchRequested:function(e){var t=e.value;b(O(t))},onSuggestionSelected:function(e,t){var n=t.suggestion;t.suggestionValue,t.suggestionIndex,t.sectionIndex,t.method;v(10),h(n.coordinates),S(n)},onSuggestionsClearRequested:function(){b([])},getSuggestionValue:function(e){return e.city},inputProps:y})):null};n(1134);var N=function(){var e=Object(c.useRecoilValue)(d);return o.a.createElement("div",{className:"coordinates-box"},o.a.createElement("span",{className:"coordinates-box-value"}," ",e?e.city:""))},T=n(37),W=(n(1135),[{value:10,label:"10"},{value:100,label:"100"},{value:500,label:"500"},{value:1e3,label:"1000"},{value:3e3,label:"3000"},{value:5e3,label:"5000"}]);var I=function(){var e=Object(c.useSetRecoilState)(s);return o.a.createElement("div",{className:"location-count-select"},o.a.createElement(T.a,{options:W,onChange:function(t){var n=t.value;e(n)},defaultValue:W[3]}))};n(1136),n(1137);var M=function(){return o.a.createElement(c.RecoilRoot,null,o.a.createElement("div",{className:"App"},o.a.createElement(I,null),o.a.createElement(x,null),o.a.createElement(a.Suspense,{fallback:""},o.a.createElement(z,null)),o.a.createElement(N,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(o.a.createElement(M,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},39:function(e,t,n){e.exports=n(1138)}},[[39,1,2]]]);
//# sourceMappingURL=main.e25b3b62.chunk.js.map